<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—ê²í…Œí†  ì‹¬ë¦¬ í…ŒìŠ¤íŠ¸ - ì§ˆë¬¸ ë‹µë³€</title>
    <meta name="description" content="ì—ê²ë‚¨Â·í…Œí† ë…€ ì‹¬ë¦¬ í…ŒìŠ¤íŠ¸ ì§ˆë¬¸ì— ë‹µí•˜ê³  ë‚˜ì˜ ì„±í–¥ì„ ì•Œì•„ë³´ì„¸ìš”">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5534320609992391"
            crossorigin="anonymous"></script>
</head>
<body class="quiz-page">
    <header>
        <nav>
            <div class="nav-container">
                <h1 class="logo"><a href="index.html">ì—ê²í…Œí† </a></h1>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressBar"></div>
                    </div>
                    <span class="progress-text" id="progressText">1/12</span>
                </div>
            </div>
        </nav>
    </header>

    <main class="quiz-container">
        <div class="quiz-content">
            <div class="gender-selection" id="genderSelection">
                <h2>ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš”</h2>
                <p class="gender-subtitle">í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ìœ„í•´ ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš”</p>
                <div class="gender-options">
                    <button class="gender-btn" onclick="startQuizWithGender('male')">
                        <span class="gender-icon">ğŸ‘¨</span>
                        <span class="gender-text">ë‚¨ì„±</span>
                    </button>
                    <button class="gender-btn" onclick="startQuizWithGender('female')">
                        <span class="gender-icon">ğŸ‘©</span>
                        <span class="gender-text">ì—¬ì„±</span>
                    </button>
                </div>
            </div>

            <div class="question-card" id="questionCard" style="display: none;">
                <div class="question-number" id="questionNumber">ì§ˆë¬¸ 1</div>
                <h2 class="question-text" id="questionText">
                    ì¹œêµ¬ê°€ ê³ ë¯¼ì„ í„¸ì–´ë†“ì„ ë•Œ ë‚˜ì˜ ì²« ë°˜ì‘ì€?
                </h2>
                <div class="answer-options" id="answerOptions">
                    <button class="answer-btn" data-type="E" onclick="selectAnswer('E')">
                        <span class="answer-letter">A</span>
                        <span class="answer-text">'ì •ë§ ì†ìƒí–ˆê² ë‹¤. ì–´ë–¤ ê¸°ë¶„ì¸ì§€ ì´í•´í•´' í•˜ë©° ê°ì •ì— ê³µê°í•œë‹¤</span>
                    </button>
                    <button class="answer-btn" data-type="T" onclick="selectAnswer('T')">
                        <span class="answer-letter">B</span>
                        <span class="answer-text">'ê·¸ëŸ¼ ì´ë ‡ê²Œ í•´ë³´ëŠ” ê²Œ ì–´ë•Œ?' í•˜ë©° êµ¬ì²´ì ì¸ í•´ê²°ì±…ì„ ì œì‹œí•œë‹¤</span>
                    </button>
                </div>
            </div>

            <div class="navigation-buttons" id="navigationButtons" style="display: none;">
                <button class="nav-btn prev-btn" id="prevBtn" onclick="previousQuestion()" disabled>
                    â† ì´ì „
                </button>
                <button class="nav-btn next-btn" id="nextBtn" onclick="nextQuestion()" disabled>
                    ë‹¤ìŒ â†’
                </button>
            </div>
        </div>
    </main>

    <script>
        // ì „ì—­ ë³€ìˆ˜ ë° í•¨ìˆ˜ ì„ ì–¸
        let currentQuestion = 0;
        let scores = { E: 0, T: 0 };
        let selectedGender = '';
        let answers = []; // ê° ì§ˆë¬¸ì— ëŒ€í•œ ë‹µë³€ ì €ì¥
        let quizStarted = false;
        
        // 12ê°€ì§€ ì§ˆë¬¸ ë°ì´í„°
        const questions = [
            {
                question: "ì¹œêµ¬ê°€ ê³ ë¯¼ì„ í„¸ì–´ë†“ì„ ë•Œ ë‚˜ì˜ ì²« ë°˜ì‘ì€?",
                answers: [
                    { text: "'ì •ë§ ì†ìƒí–ˆê² ë‹¤. ì–´ë–¤ ê¸°ë¶„ì¸ì§€ ì´í•´í•´' í•˜ë©° ê°ì •ì— ê³µê°í•œë‹¤", type: "E" },
                    { text: "'ê·¸ëŸ¼ ì´ë ‡ê²Œ í•´ë³´ëŠ” ê²Œ ì–´ë•Œ?' í•˜ë©° êµ¬ì²´ì ì¸ í•´ê²°ì±…ì„ ì œì‹œí•œë‹¤", type: "T" }
                ]
            },
            {
                question: "íŒ€ í”„ë¡œì íŠ¸ì—ì„œ ì˜ê²¬ì´ ê°ˆë¦´ ë•Œ ë‚˜ëŠ”?",
                answers: [
                    { text: "ë‹¤ë¥¸ ì‚¬ëŒì˜ ì˜ê²¬ì„ ë¨¼ì € ë“¤ì–´ë³´ê³  ì¡°í™”ë¡œìš´ ë°©í–¥ì„ ì°¾ëŠ”ë‹¤", type: "E" },
                    { text: "ë…¼ë¦¬ì ìœ¼ë¡œ ìµœì„ ì˜ ë°©ë²•ì„ ì œì‹œí•˜ê³  ì„¤ë“í•œë‹¤", type: "T" }
                ]
            },
            {
                question: "ì—°ì¸ê³¼ ë°ì´íŠ¸ ê³„íšì„ ì„¸ìš¸ ë•Œ?",
                answers: [
                    { text: "ìƒëŒ€ë°©ì´ ì›í•˜ëŠ” ê²ƒì„ ë¨¼ì € ë¬¼ì–´ë³´ê³  ë°°ë ¤í•œë‹¤", type: "E" },
                    { text: "íš¨ìœ¨ì ì´ê³  ì¬ë¯¸ìˆëŠ” ì½”ìŠ¤ë¥¼ ë¯¸ë¦¬ ê³„íší•´ì„œ ì œì•ˆí•œë‹¤", type: "T" }
                ]
            },
            {
                question: "ì§ì¥/í•™êµì—ì„œ ê°ˆë“±ì´ ìƒê²¼ì„ ë•Œ?",
                answers: [
                    { text: "ì¡°ìš©íˆ ì‹œê°„ì„ ë‘ê³  ìƒí™©ì´ ìì—°ìŠ¤ëŸ½ê²Œ í•´ê²°ë˜ê¸¸ ê¸°ë‹¤ë¦°ë‹¤", type: "E" },
                    { text: "ì§ì ‘ ëŒ€í™”ë¥¼ í†µí•´ ë¬¸ì œë¥¼ ëª…í™•íˆ í•˜ê³  í•´ê²°í•œë‹¤", type: "T" }
                ]
            },
            {
                question: "ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ ìˆì„ ë•Œ ë‚˜ì˜ ì—­í• ì€?",
                answers: [
                    { text: "ë¶„ìœ„ê¸°ë¥¼ ì‚´í”¼ë©° ëª¨ë‘ê°€ í¸ì•ˆí•˜ë„ë¡ ë°°ë ¤í•˜ëŠ” ì—­í• ", type: "E" },
                    { text: "ê²°ì •ì´ í•„ìš”í•  ë•Œ ì•ì¥ì„œì„œ ì´ë„ëŠ” ì—­í• ", type: "T" }
                ]
            },
            {
                question: "ìƒˆë¡œìš´ ë„ì „ ì•ì—ì„œ ë‚˜ëŠ”?",
                answers: [
                    { text: "ê±±ì •ê³¼ ê¸°ëŒ€ê°€ êµì°¨í•˜ë©° ì‹ ì¤‘í•˜ê²Œ ìƒê°í•´ë³¸ë‹¤", type: "E" },
                    { text: "ì¼ë‹¨ ì‹œì‘í•´ë³´ê³  ë¶€ë”ªí˜€ê°€ë©° í•´ê²°í•œë‹¤", type: "T" }
                ]
            },
            {
                question: "ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ì„ ë•Œ ë‚˜ì˜ í•´ì†Œ ë°©ë²•ì€?",
                answers: [
                    { text: "í˜¼ìë§Œì˜ ì‹œê°„ì„ ê°€ì§€ë©° ê°ì •ì„ ì •ë¦¬í•œë‹¤", type: "E" },
                    { text: "ìš´ë™ì´ë‚˜ ì·¨ë¯¸í™œë™ìœ¼ë¡œ ì—ë„ˆì§€ë¥¼ ë°œì‚°í•œë‹¤", type: "T" }
                ]
            },
            {
                question: "ë‹¤ë¥¸ ì‚¬ëŒì˜ ë¶€íƒì„ ë°›ì•˜ì„ ë•Œ?",
                answers: [
                    { text: "ê±°ì ˆí•˜ê¸° ì–´ë ¤ì›Œ ì›¬ë§Œí•˜ë©´ ë“¤ì–´ì£¼ëŠ” í¸ì´ë‹¤", type: "E" },
                    { text: "ìƒí™©ì„ ê³ ë ¤í•´ì„œ ê°€ëŠ¥í•œ ê²ƒê³¼ ë¶ˆê°€ëŠ¥í•œ ê²ƒì„ ëª…í™•íˆ ë§í•œë‹¤", type: "T" }
                ]
            },
            {
                question: "ì˜ê²¬ì„ í‘œí˜„í•  ë•Œ ë‚˜ëŠ”?",
                answers: [
                    { text: "ìƒëŒ€ë°©ì˜ ê¸°ë¶„ì„ ìƒí•˜ì§€ ì•Šê²Œ ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ë§í•œë‹¤", type: "E" },
                    { text: "ì†”ì§í•˜ê³  ëª…í™•í•˜ê²Œ ë‚´ ìƒê°ì„ ì „ë‹¬í•œë‹¤", type: "T" }
                ]
            },
            {
                question: "ì‹¤ìˆ˜ë¥¼ í–ˆì„ ë•Œ ë‚˜ì˜ ë°˜ì‘ì€?",
                answers: [
                    { text: "ì£„ì†¡í•˜ë‹¤ëŠ” ë§ˆìŒì— ê°ì •ì ìœ¼ë¡œ ìœ„ì¶•ëœë‹¤", type: "E" },
                    { text: "ì‹¤ìˆ˜ë¥¼ ì¸ì •í•˜ê³  ë‹¤ìŒì— ì–´ë–»ê²Œ í• ì§€ ê³„íší•œë‹¤", type: "T" }
                ]
            },
            {
                question: "ë¦¬ë” ì—­í• ì„ ë§¡ê²Œ ë˜ì—ˆì„ ë•Œ?",
                answers: [
                    { text: "íŒ€ì›ë“¤ì˜ ì˜ê²¬ì„ ì¶©ë¶„íˆ ë“¤ì–´ê°€ë©° ì¡°ìœ¨í•œë‹¤", type: "E" },
                    { text: "ëª…í™•í•œ ëª©í‘œë¥¼ ì„¤ì •í•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ ì¶”ì§„í•œë‹¤", type: "T" }
                ]
            },
            {
                question: "ì—°ì¸ê³¼ì˜ ê´€ê³„ì—ì„œ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ê²ƒì€?",
                answers: [
                    { text: "ì„œë¡œì˜ ê°ì •ì„ ì´í•´í•˜ê³  ê³µê°í•˜ëŠ” ê²ƒ", type: "E" },
                    { text: "ì†”ì§í•œ ì†Œí†µê³¼ ëª…í™•í•œ ê´€ê³„ ë°œì „", type: "T" }
                ]
            }
        ];

        // í•¨ìˆ˜ ì •ì˜
        function updateQuestion() {
            const question = questions[currentQuestion];
            
            document.getElementById('questionNumber').textContent = `ì§ˆë¬¸ ${currentQuestion + 1}`;
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('progressText').textContent = `${currentQuestion + 1}/12`;
            
            const progressPercent = ((currentQuestion + 1) / 12) * 100;
            document.getElementById('progressBar').style.width = progressPercent + '%';
            
            const answerOptions = document.getElementById('answerOptions');
            answerOptions.innerHTML = '';
            
            question.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.className = 'answer-btn';
                button.setAttribute('data-type', answer.type);
                button.onclick = () => selectAnswer(answer.type);
                
                button.innerHTML = `
                    <span class="answer-letter">${index === 0 ? 'A' : 'B'}</span>
                    <span class="answer-text">${answer.text}</span>
                `;
                
                // ì´ì „ì— ì„ íƒí•œ ë‹µë³€ì´ ìˆìœ¼ë©´ í‘œì‹œ
                if (answers[currentQuestion] === answer.type) {
                    button.classList.add('selected');
                }
                
                answerOptions.appendChild(button);
            });
            
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            document.getElementById('nextBtn').disabled = !answers[currentQuestion];
        }

        function selectAnswer(type) {
            // ì´ì „ ë‹µë³€ì´ ìˆìœ¼ë©´ ì ìˆ˜ì—ì„œ ì œê±°
            if (answers[currentQuestion]) {
                scores[answers[currentQuestion]]--;
            }
            
            // ìƒˆë¡œìš´ ë‹µë³€ ì €ì¥ ë° ì ìˆ˜ ì¶”ê°€
            answers[currentQuestion] = type;
            scores[type]++;
            
            // ë‹µë³€ ì„ íƒ ì‹œ ë²„íŠ¼ ìƒíƒœ ë³€ê²½
            document.querySelectorAll('.answer-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // event.targetê°€ ì—†ì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬
            const clickedBtn = document.querySelector(`.answer-btn[data-type="${type}"]`);
            if (clickedBtn) {
                clickedBtn.classList.add('selected');
            }
            
            document.getElementById('nextBtn').disabled = false;
            
            // ìë™ìœ¼ë¡œ ë‹¤ìŒ ì§ˆë¬¸ìœ¼ë¡œ ë„˜ì–´ê°€ì§€ ì•Šë„ë¡ ìˆ˜ì • (ì‚¬ìš©ìê°€ ë‹¤ìŒ ë²„íŠ¼ì„ ëˆŒëŸ¬ì•¼ í•¨)
        }

        function nextQuestion() {
            console.log('Next button clicked');
            // ë‹µë³€ì´ ì„ íƒë˜ì§€ ì•Šì•˜ìœ¼ë©´ ì§„í–‰ ë¶ˆê°€
            if (!answers[currentQuestion]) {
                alert('ë‹µë³€ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                updateQuestion();
            } else {
                // ëª¨ë“  ì§ˆë¬¸ ì™„ë£Œ ì‹œ ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™
                showResults();
            }
        }

        function previousQuestion() {
            console.log('Previous button clicked');
            if (currentQuestion > 0) {
                currentQuestion--;
                updateQuestion();
            }
        }
        
        // ì„±ë³„ ì„ íƒ í›„ í€´ì¦ˆ ì‹œì‘
        function startQuizWithGender(gender) {
            selectedGender = gender;
            quizStarted = true;
            
            // ì„±ë³„ ì„ íƒ í™”ë©´ ìˆ¨ê¸°ê³  í€´ì¦ˆ í™”ë©´ í‘œì‹œ
            document.getElementById('genderSelection').style.display = 'none';
            document.getElementById('questionCard').style.display = 'block';
            document.getElementById('navigationButtons').style.display = 'flex';
            
            // ì²« ë²ˆì§¸ ì§ˆë¬¸ í‘œì‹œ
            updateQuestion();
        }
        
        // ì „ì—­ ìŠ¤ì½”í”„ì— í•¨ìˆ˜ ë…¸ì¶œ
        window.nextQuestion = nextQuestion;
        window.previousQuestion = previousQuestion;
        window.selectAnswer = selectAnswer;
        window.selectGender = selectGender;
        window.startQuizWithGender = startQuizWithGender;

        function showResults() {
            // ê²°ê³¼ ì €ì¥
            const result = {
                scores: scores,
                gender: selectedGender,
                type: determineType()
            };
            
            localStorage.setItem('testResult', JSON.stringify(result));
            
            // ê´‘ê³  í˜ì´ì§€ë¡œ ì´ë™
            window.location.href = 'ads.html';
        }

        function selectGender(gender) {
            // ì´ í•¨ìˆ˜ëŠ” ì´ì œ ì‚¬ìš©ë˜ì§€ ì•Šì§€ë§Œ í˜¸í™˜ì„±ì„ ìœ„í•´ ìœ ì§€
            startQuizWithGender(gender);
        }

        function determineType() {
            // ì •í™•í•œ ì ìˆ˜ ê³„ì‚°
            let finalScores = { E: 0, T: 0 };
            answers.forEach(answer => {
                if (answer) {
                    finalScores[answer]++;
                }
            });
            
            const dominantTrait = finalScores.E >= finalScores.T ? 'E' : 'T';
            return dominantTrait + (selectedGender === 'male' ? 'ë‚¨' : 'ë…€');
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì„±ë³„ ì„ íƒ í™”ë©´ í‘œì‹œ
        window.onload = function() {
            // ì´ˆê¸° ìƒíƒœ ì„¤ì •
            currentQuestion = 0;
            scores = { E: 0, T: 0 };
            answers = [];
            quizStarted = false;
            
            // ì§„í–‰ ìƒíƒœ ì´ˆê¸°í™”
            document.getElementById('progressText').textContent = 'ì„±ë³„ ì„ íƒ';
            document.getElementById('progressBar').style.width = '0%';
        };
    </script>
</body>
</html>