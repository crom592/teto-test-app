<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í…Œí† í…ŒìŠ¤íŠ¸ - ì¬ë¯¸ìˆëŠ” ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ ëª¨ìŒ</title>
    <meta name="description" content="ì—ê²ë‚¨ í…Œí† ë…€ í…ŒìŠ¤íŠ¸ë¶€í„° ë‹¤ì–‘í•œ ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ê¹Œì§€! ë‚˜ë¥¼ ì•Œì•„ê°€ëŠ” ì¬ë¯¸ìˆëŠ” ì‹œê°„">
    <meta name="keywords" content="ì‹¬ë¦¬í…ŒìŠ¤íŠ¸, ì„±ê²©í…ŒìŠ¤íŠ¸, ì—ê²ë‚¨, í…Œí† ë…€, ì—°ì• í…ŒìŠ¤íŠ¸, ì¬ë¯¸í…ŒìŠ¤íŠ¸">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://teto-test-app.pages.dev/">
    <meta property="og:title" content="í…Œí† í…ŒìŠ¤íŠ¸ - ì¬ë¯¸ìˆëŠ” ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ ëª¨ìŒ">
    <meta property="og:description" content="ì—ê²ë‚¨ í…Œí† ë…€ í…ŒìŠ¤íŠ¸ë¶€í„° ë‹¤ì–‘í•œ ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ê¹Œì§€!">
    <meta property="og:image" content="https://teto-test-app.pages.dev/assets/og-image.jpg">
    
    <link rel="stylesheet" href="css/styles-new.css">
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5534320609992391"
            crossorigin="anonymous"></script>
</head>
<body>
    <header class="site-header">
        <div class="header-container">
            <div class="logo-area">
                <h1 class="site-logo">
                    <span class="logo-emoji">ğŸ§ </span>
                    <span class="logo-text">í…Œí† í…ŒìŠ¤íŠ¸</span>
                </h1>
            </div>
            <nav class="main-nav">
                <button class="nav-item active" data-category="all">
                    <span class="nav-emoji">âœ¨</span>
                    <span class="nav-text">ì „ì²´</span>
                </button>
                <button class="nav-item" data-category="personality">
                    <span class="nav-emoji">ğŸ­</span>
                    <span class="nav-text">ì„±ê²©</span>
                </button>
                <button class="nav-item" data-category="love">
                    <span class="nav-emoji">ğŸ’˜</span>
                    <span class="nav-text">ì—°ì• </span>
                </button>
                <button class="nav-item" data-category="fun">
                    <span class="nav-emoji">ğŸª</span>
                    <span class="nav-text">ì¬ë¯¸</span>
                </button>
                <button class="nav-item" data-category="psychology">
                    <span class="nav-emoji">ğŸ§©</span>
                    <span class="nav-text">ì‹¬ë¦¬</span>
                </button>
            </nav>
        </div>
    </header>

    <main class="main-content">
        <!-- íˆì–´ë¡œ ë°°ë„ˆ -->
        <section class="hero-banner">
            <div class="banner-content">
                <div class="banner-text">
                    <h2 class="banner-title">
                        <span class="text-gradient">ë‚˜ë¥¼ ì•Œì•„ê°€ëŠ”</span><br>
                        ì¬ë¯¸ìˆëŠ” ì‹¬ë¦¬í…ŒìŠ¤íŠ¸
                    </h2>
                    <p class="banner-subtitle">
                        ë§¤ì£¼ ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ê°€ ì¶”ê°€ë©ë‹ˆë‹¤!
                    </p>
                </div>
                <div class="banner-illustration">
                    <div class="floating-emoji" style="--delay: 0s">ğŸ§ </div>
                    <div class="floating-emoji" style="--delay: 0.5s">ğŸ’­</div>
                    <div class="floating-emoji" style="--delay: 1s">âœ¨</div>
                    <div class="floating-emoji" style="--delay: 1.5s">ğŸ¯</div>
                </div>
            </div>
        </section>

        <!-- ì¸ê¸° í…ŒìŠ¤íŠ¸ ìŠ¬ë¼ì´ë” -->
        <section class="popular-tests">
            <div class="section-header">
                <h3 class="section-title">ğŸ”¥ ì§€ê¸ˆ í•«í•œ í…ŒìŠ¤íŠ¸</h3>
                <a href="#" class="see-all">ì „ì²´ë³´ê¸° â†’</a>
            </div>
            <div class="test-slider">
                <div class="slider-container" id="popularSlider">
                    <!-- ì¸ê¸° í…ŒìŠ¤íŠ¸ ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </section>

        <!-- í…ŒìŠ¤íŠ¸ ê·¸ë¦¬ë“œ -->
        <section class="all-tests">
            <div class="section-header">
                <h3 class="section-title">ì „ì²´ í…ŒìŠ¤íŠ¸</h3>
                <div class="sort-options">
                    <button class="sort-btn active" data-sort="latest">ìµœì‹ ìˆœ</button>
                    <button class="sort-btn" data-sort="popular">ì¸ê¸°ìˆœ</button>
                </div>
            </div>
            <div class="test-grid" id="testGrid">
                <!-- í…ŒìŠ¤íŠ¸ ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
        </section>

        <!-- ê´‘ê³  ì˜ì—­ -->
        <section class="ad-section">
            <div class="ad-container">
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5534320609992391"
                        crossorigin="anonymous"></script>
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-5534320609992391"
                     data-ad-slot="1234567890"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-info">
                <p>Â© 2024 í…Œí† í…ŒìŠ¤íŠ¸. All rights reserved.</p>
                <div class="footer-links">
                    <a href="privacy.html">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                    <a href="contact.html">ë¬¸ì˜í•˜ê¸°</a>
                    <a href="about.html">ì†Œê°œ</a>
                </div>
            </div>
            <p class="footer-note">ë³¸ í…ŒìŠ¤íŠ¸ëŠ” ì¬ë¯¸ë¥¼ ìœ„í•œ ê²ƒì´ë©° ì „ë¬¸ì ì¸ ì§„ë‹¨ì´ ì•„ë‹™ë‹ˆë‹¤.</p>
        </div>
    </footer>

    <script>
        // í…ŒìŠ¤íŠ¸ ë°ì´í„° ë¡œë“œ ë° ë Œë”ë§
        let allTests = [];
        let currentCategory = 'all';
        let currentSort = 'latest';

        // í…ŒìŠ¤íŠ¸ ì¹´ë“œ HTML ìƒì„±
        function createTestCard(test) {
            const badges = [];
            if (test.isNew) badges.push('<span class="badge new">NEW</span>');
            if (test.isHot) badges.push('<span class="badge hot">HOT</span>');

            return `
                <article class="test-card" onclick="location.href='${test.url}'">
                    <div class="test-thumbnail">
                        <span class="test-emoji">${test.thumbnail}</span>
                        ${badges.length > 0 ? `<div class="test-badges">${badges.join('')}</div>` : ''}
                    </div>
                    <div class="test-info">
                        <div class="test-category">
                            <span class="category-emoji">${test.categoryEmoji}</span>
                            <span class="category-name">${test.categoryName}</span>
                        </div>
                        <h4 class="test-title">${test.title}</h4>
                        <p class="test-subtitle">${test.subtitle}</p>
                        <div class="test-meta">
                            <span class="meta-item">
                                <span class="meta-icon">ğŸ‘¥</span>
                                <span class="meta-text">${test.participants.toLocaleString()}ëª…</span>
                            </span>
                            <span class="meta-item">
                                <span class="meta-icon">â±ï¸</span>
                                <span class="meta-text">${test.duration}</span>
                            </span>
                        </div>
                    </div>
                </article>
            `;
        }

        // ì¸ê¸° í…ŒìŠ¤íŠ¸ ìŠ¬ë¼ì´ë” ì¹´ë“œ ìƒì„±
        function createSliderCard(test) {
            return `
                <div class="slider-card" onclick="location.href='${test.url}'">
                    <div class="slider-rank">${test.rank}</div>
                    <div class="slider-thumbnail">${test.thumbnail}</div>
                    <div class="slider-info">
                        <h4 class="slider-title">${test.title}</h4>
                        <p class="slider-participants">${test.participants.toLocaleString()}ëª… ì°¸ì—¬</p>
                    </div>
                </div>
            `;
        }

        // í…ŒìŠ¤íŠ¸ ë°ì´í„° ë¡œë“œ
        async function loadTests() {
            try {
                const response = await fetch('data/tests.json');
                const data = await response.json();
                allTests = data.tests;
                renderTests();
                renderPopularSlider();
            } catch (error) {
                console.error('Failed to load tests:', error);
                // í´ë°± ë°ì´í„° ì‚¬ìš©
                allTests = [
                    {
                        id: "egen-teto",
                        title: "ì—ê²ë‚¨Â·í…Œí† ë…€ í…ŒìŠ¤íŠ¸",
                        subtitle: "ë‚˜ëŠ” ê°ì„±ì ì¸ ì—ê²? ì£¼ë„ì ì¸ í…Œí† ?",
                        thumbnail: "ğŸ§ ",
                        category: "personality",
                        categoryName: "ì„±ê²©ìœ í˜•",
                        categoryEmoji: "ğŸ­",
                        participants: 157892,
                        duration: "3ë¶„",
                        isNew: true,
                        isHot: true,
                        url: "quiz.html"
                    }
                ];
                renderTests();
                renderPopularSlider();
            }
        }

        // í…ŒìŠ¤íŠ¸ ë Œë”ë§
        function renderTests() {
            const testGrid = document.getElementById('testGrid');
            let filteredTests = allTests;

            // ì¹´í…Œê³ ë¦¬ í•„í„°ë§
            if (currentCategory !== 'all') {
                filteredTests = allTests.filter(test => test.category === currentCategory);
            }

            // ì •ë ¬
            if (currentSort === 'popular') {
                filteredTests.sort((a, b) => b.participants - a.participants);
            } else {
                filteredTests.sort((a, b) => b.isNew - a.isNew);
            }

            // ë Œë”ë§
            testGrid.innerHTML = filteredTests.map(test => createTestCard(test)).join('');
        }

        // ì¸ê¸° ìŠ¬ë¼ì´ë” ë Œë”ë§
        function renderPopularSlider() {
            const slider = document.getElementById('popularSlider');
            const popularTests = [...allTests]
                .sort((a, b) => b.participants - a.participants)
                .slice(0, 5)
                .map((test, index) => ({ ...test, rank: index + 1 }));

            slider.innerHTML = popularTests.map(test => createSliderCard(test)).join('');
        }

        // ì¹´í…Œê³ ë¦¬ í•„í„°
        document.querySelectorAll('.nav-item').forEach(btn => {
            btn.addEventListener('click', (e) => {
                document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentCategory = btn.dataset.category;
                renderTests();
            });
        });

        // ì •ë ¬ ì˜µì…˜
        document.querySelectorAll('.sort-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                document.querySelectorAll('.sort-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentSort = btn.dataset.sort;
                renderTests();
            });
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ í…ŒìŠ¤íŠ¸ ë¡œë“œ
        window.addEventListener('load', loadTests);
    </script>
</body>
</html>